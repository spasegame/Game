import java.awt.*;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import javax.swing.*;
import javax.imageio.*;
import java.io.*;
import java.awt.Image;
import java.awt.image.BufferedImage;
import java.util.*;

public class ShotList
{
  ArrayList list;
  private Node head;
  class Node
  {
    Shot s;
    Node link;
    Node (Shot i, Node n)
    {
      s = i;
      link = n;
    }
  }
  
  public ShotList(ArrayList list)
  {
    this.list = list;
  }
  
  public void addAtFront (Shot b)
  {
    head = new Node(b, head);
  }
  
  public void paint(Graphics g)
  {
    for(Node temp = head; temp!= null; temp = temp.link)
    {
      temp.s.paint(g);
    }
  }
  
  public void move()
  {
    for(Node temp = head; temp!= null; temp = temp.link)
    {
      temp.s.move();
      if(head.s.getY() < -20 || head.s.getHealth() <= 0)
      {
        head = head.link;
        list.remove(head.s);
      }
      else if(temp.link != null){
        if(temp.link.s.getY() < -20 || head.s.getHealth() <= 0)
        {
          removeShot(temp);
          list.remove(temp.s);
        }
      }
    }
  }
  
  public void removeShot(Node n)
  {
    if(n.link == null)
      n = null;
    else
      n.link = n.link.link;
  }
  
  public void update(ArrayList list)
  {
    this.list = list;
  }
}
